{% extends "base.html" %}
{% block title %}ZilloWirral | Articles{% endblock %}

{% block sidebar_icon1 %}
    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="var(--2-clr)" class="bi bi-list-task" viewBox="1 0 16 16">
        <path fill-rule="evenodd" d="M2 2.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5V3a.5.5 0 0 0-.5-.5H2zM3 3H2v1h1V3z"/>
        <path d="M5 3.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM5.5 7a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1h-9zm0 4a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1h-9z"/>
        <path fill-rule="evenodd" d="M1.5 7a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5V7zM2 7h1v1H2V7zm0 3.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5H2zm1 .5H2v1h1v-1z"/>
    </svg>
{% endblock %}

{% block cover_picture %}
    <img src="\static\assets\placeholders\TEMP35_1.webp" alt="Pooltable in dim lighting" class="card-img"/>
{% endblock %}
<!-- image ratio == 3.5:1-->

{% block cover_text %}Get In Formed!{% endblock %}

{% block content %}
<div class="my-5" style="width:100%;">

    {% if article_page == 1 %}
        <div class="mb-5 fs-1 fw-bold text-center">
            Read Our Latest Articles!
        </div>
    {% endif %}

    {% for article in articles[ article_page * 5 - 5: article_page * 5 - 1 ] %}
        <div class="row mb-5 g-3" style="width:100%;">
            <div class="col-lg text-center">
                <img src="\static\assets\article_covers\{{ article.id }}.webp" class="mx-auto rounded" style="width:70%;"/>
            </div>
            <div class="col-lg">
                <div class="mx-auto" style="width:80%">
                    <div class="mb-3 fs-3 fw-bold" style="width:100%;">
                        {{ article.title }}
                    </div>
                    <div class="mb-4 lead fs-4">
                        {% if article.description != ''%}
                            {{ article.description }}
                        {% elif article.content | length > 250 %}
                            {{ article.content[0:249] + '...' }}
                        {% else %}
                            {{ article.content }}
                        {% endif %}
                    </div>
                    <div class="lead fs-5">
                        Published {{ article.date }}
                    </div>
                </div>
            </div>
        </div>
    {% endfor %}

    {% if articles[article_page * 5] == Null %}
        <div class="my-5 fs-1 fw-bold text-center">
            Come Back Later When More Articles Are Published!
        <div>
    {% endif %}

    <div class="my-5 container text-center" style="width:100%;">
        
        <a class="m-2 text-decoration-none" {% if article_page - 1 > 0 %}href="/articles/{{ article_page - 1 }}"{% endif %}>
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-caret-left-fill" viewBox="0 2 16 18">
                <path d="m3.86 8.753 5.482 4.796c.646.566 1.658.106 1.658-.753V3.204a1 1 0 0 0-1.659-.753l-5.48 4.796a1 1 0 0 0 0 1.506z"/>
            </svg>
        </a>

        {% if article_page - 2 > 0 %}
            <a class="h3 m-2 text-decoration-none" href="/articles/{{ article_page - 2 }}">{{ article_page - 2 }}</a>
        {% endif %}
        {% if article_page - 1 > 0 %}
            <a class="h3 m-2 text-decoration-none" href="/articles/{{ article_page - 1 }}">{{ article_page - 1 }}</a>
        {% endif %}

        <a class="h3 m-2 text-decoration-none active" aria-current="page">{{ article_page }}</a>

        {% if max_pages - article_page > 0 %}
            <a class="h3 m-2 text-decoration-none" href="/articles/{{ article_page + 1 }}">{{ article_page + 1 }}</a>
        {% endif %}

        {% if max_pages - (article_page + 1) > 0 %}
            <a class="h3 m-2 text-decoration-none" href="/articles/{{ article_page + 2 }}">{{ article_page + 2 }}</a>
        {% endif %}

        <a class="m-2 text-decoration-none" {% if max_pages - article_page > 0 %}href="/articles/{{ article_page + 1 }}{% endif %}">
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-caret-right-fill" viewBox="0 2 16 18">
                <path d="m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z"/>
            </svg>
        </a>
    </div>
</div>
{% endblock %}